# ç¾½æ¯›çƒå‡»çƒç±»å‹è¯†åˆ«ç³»ç»Ÿ (Badminton Shot Type Recognition)

åŸºäºæœºå™¨å­¦ä¹ çš„ç¾½æ¯›çƒå‡»çƒåŠ¨ä½œè¯†åˆ«ç³»ç»Ÿï¼Œä½¿ç”¨ä¼ æ„Ÿå™¨æ•°æ®ï¼ˆåŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªï¼‰å¯¹å››ç§å‡»çƒç±»å‹è¿›è¡Œåˆ†ç±»ï¼šæ‰£æ€(Smash)ã€é«˜è¿œçƒ(Clear)ã€å¹³æŠ½çƒ(Drive)å’ŒæŒ‘çƒ(Lift)ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®ä½¿ç”¨æœºå™¨å­¦ä¹ æ–¹æ³•è¯†åˆ«ç¾½æ¯›çƒè¿åŠ¨ä¸­çš„ä¸åŒå‡»çƒç±»å‹ã€‚é€šè¿‡å¤„ç†åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªçš„ä¼ æ„Ÿå™¨æ•°æ®ï¼Œæå–ç‰¹å¾ï¼Œå¹¶è®­ç»ƒåˆ†ç±»æ¨¡å‹æ¥å®ç°è‡ªåŠ¨è¯†åˆ«ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- **æ•°æ®é¢„å¤„ç†**: æ—¶é—´æˆ³è§„èŒƒåŒ–ã€ä¼ æ„Ÿå™¨åå·®æ ¡æ­£ã€é‡åŠ›è¡¥å¿ã€å™ªå£°æ»¤é™¤
- **ç‰¹å¾æå–**: 
  - æ—¶åŸŸç‰¹å¾ï¼ˆå‡å€¼ã€æ ‡å‡†å·®ã€å³°å€¼ç­‰ï¼‰
  - é¢‘åŸŸç‰¹å¾ï¼ˆåŠŸç‡è°±å¯†åº¦ã€ä¸»é¢‘ç‡ç­‰ï¼‰
  - ç»Ÿè®¡ç‰¹å¾ï¼ˆååº¦ã€å³°åº¦ã€å››åˆ†ä½æ•°ç­‰ï¼‰
- **æ•°æ®å¢å¼º**: ç‰©ç†åˆç†çš„æ•°æ®å¢å¼ºæŠ€æœ¯ï¼ˆè½´æ‰°åŠ¨ã€å¹…åº¦ç¼©æ”¾ã€é«˜æ–¯æŠ–åŠ¨ç­‰ï¼‰
- **å¤šæ¨¡å‹æ”¯æŒ**: éšæœºæ£®æ—ã€æ¢¯åº¦æå‡ã€é€»è¾‘å›å½’
- **å®Œæ•´çš„è¯„ä¼°æµç¨‹**: æ··æ·†çŸ©é˜µã€åˆ†ç±»æŠ¥å‘Šã€F1åˆ†æ•°

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
ml_badminton/
â”œâ”€â”€ assignment3.py                 # ä¸»è¦æ¨¡å‹è®­ç»ƒè„šæœ¬ï¼ˆä¸­æ–‡æ³¨é‡Šç‰ˆæœ¬ï¼‰
â”œâ”€â”€ CPSC_5616EL_A3_G6.py          # ä¸»è¦æ¨¡å‹è®­ç»ƒè„šæœ¬ï¼ˆè‹±æ–‡æ³¨é‡Šç‰ˆæœ¬ï¼‰
â”œâ”€â”€ assignment3_preprocess.py      # æ•°æ®é¢„å¤„ç†æ¨¡å—ï¼ˆä¸­æ–‡æ³¨é‡Šï¼‰
â”œâ”€â”€ data_preprogress.py           # æ•°æ®é¢„å¤„ç†æ¨¡å—ï¼ˆè‹±æ–‡æ³¨é‡Šï¼‰
â”œâ”€â”€ assignment3.ipynb             # Jupyter Notebookåˆ†ææ–‡ä»¶
â”œâ”€â”€ dataset/                       # æ•°æ®é›†ç›®å½•
â”‚   â”œâ”€â”€ clear_x30.csv             # é«˜è¿œçƒåŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ smash_x30.csv             # æ‰£æ€åŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ drive_x30.csv             # å¹³æŠ½çƒåŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ lift_x30.csv              # æŒ‘çƒåŸå§‹æ•°æ®
â”‚   â”œâ”€â”€ *_preprocessed.csv        # é¢„å¤„ç†åçš„æ•°æ®
â”‚   â”œâ”€â”€ *_features.csv            # æå–ç‰¹å¾åçš„æ•°æ®
â”‚   â””â”€â”€ augmented_*.csv/npz       # å¢å¼ºåçš„æ•°æ®é›†
â””â”€â”€ new_dataset/                   # æ–°æ•°æ®é›†ç›®å½•
    â””â”€â”€ *_10_kyle.csv             # Kyleçš„æ•°æ®æ ·æœ¬
```

## ğŸ”§ ä¾èµ–ç¯å¢ƒ

### Python ç‰ˆæœ¬
- Python 3.8+

### ä¸»è¦ä¾èµ–åº“
```bash
pandas>=1.3.0
numpy>=1.21.0
scipy>=1.7.0
scikit-learn>=1.0.0
matplotlib>=3.4.0
seaborn>=0.11.0
```

## ğŸ“¦ å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ml_badminton

# å®‰è£…ä¾èµ–
pip install pandas numpy scipy scikit-learn matplotlib seaborn
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. æ•°æ®é¢„å¤„ç†

```python
from assignment3_preprocess import (
    resample_clean_timestamp,
    remove_sensor_bias,
    gravity_compensation,
    noise_reduction
)

# åŠ è½½åŸå§‹æ•°æ®
df = pd.read_csv('dataset/clear_x30.csv')

# é¢„å¤„ç†æ­¥éª¤
df = resample_clean_timestamp(df, target_hz=10)
df, sensor_cols = remove_sensor_bias(df)
df = gravity_compensation(df, accel_cols, sampling_rate=10)
df = noise_reduction(df, sensor_cols)
```

### 2. ç‰¹å¾æå–

ç‰¹å¾æå–åŒ…æ‹¬ï¼š
- **æ—¶åŸŸç‰¹å¾**: å‡å€¼ã€æ–¹å·®ã€å³°å€¼ã€èƒ½é‡
- **é¢‘åŸŸç‰¹å¾**: FFTã€åŠŸç‡è°±å¯†åº¦ã€ä¸»é¢‘ç‡
- **ç»Ÿè®¡ç‰¹å¾**: ååº¦ã€å³°åº¦ã€å››åˆ†ä½æ•°
- **äº¤å‰ç‰¹å¾**: åŠ é€Ÿåº¦ä¸é™€èºä»ªçš„ç›¸å…³æ€§

### 3. æ¨¡å‹è®­ç»ƒ

```python
from assignment3 import load_data, train_random_forest

# åŠ è½½æ•°æ®
X, y, feature_columns = load_data('dataset/A3_features.csv')

# åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†
X_train, X_test, y_train, y_test = split_train_test_data(X, y)

# è®­ç»ƒéšæœºæ£®æ—æ¨¡å‹
rf_model, rf_scores = train_random_forest(X_train, y_train, X_test, y_test)
```

### 4. æ•°æ®å¢å¼º

```python
# åº”ç”¨æ•°æ®å¢å¼º
X_train_aug, y_train_aug = data_augumentation(
    X_train, 
    y_train, 
    feature_columns,
    augumentation_factor=3
)
```

## ğŸ“Š å‡»çƒç±»å‹è¯´æ˜

æœ¬é¡¹ç›®è¯†åˆ«ä»¥ä¸‹å››ç§ç¾½æ¯›çƒå‡»çƒç±»å‹ï¼š

1. **æ‰£æ€ (Smash)**: é«˜é€Ÿå‘ä¸‹çš„è¿›æ”»æ€§å‡»çƒ
2. **é«˜è¿œçƒ (Clear)**: é«˜å¼§çº¿çš„é˜²å®ˆæ€§æˆ–è¿‡æ¸¡æ€§å‡»çƒ
3. **å¹³æŠ½çƒ (Drive)**: å¿«é€Ÿå¹³ç›´çš„è¿›æ”»æ€§å‡»çƒ
4. **æŒ‘çƒ (Lift)**: ä»ç½‘å‰æŒ‘èµ·çš„é˜²å®ˆæ€§å‡»çƒ

## ğŸ¯ æ¨¡å‹æ€§èƒ½

é¡¹ç›®æ”¯æŒå¤šç§æœºå™¨å­¦ä¹ æ¨¡å‹ï¼š

- **Random Forest (éšæœºæ£®æ—)**: é›†æˆå­¦ä¹ æ–¹æ³•ï¼Œé€šè¿‡å¤šæ£µå†³ç­–æ ‘æŠ•ç¥¨
- **Histogram Gradient Boosting**: é«˜æ•ˆçš„æ¢¯åº¦æå‡ç®—æ³•
- **Logistic Regression**: åŸºçº¿çº¿æ€§æ¨¡å‹

è®­ç»ƒè¿‡ç¨‹åŒ…å«ï¼š
- ç½‘æ ¼æœç´¢ä¼˜åŒ–è¶…å‚æ•°
- äº¤å‰éªŒè¯è¯„ä¼°
- è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡è¾“å‡º

## ğŸ“ˆ è¯„ä¼°æŒ‡æ ‡

- **å‡†ç¡®ç‡ (Accuracy)**
- **F1åˆ†æ•° (F1 Score)** - å®å¹³å‡å’ŒåŠ æƒå¹³å‡
- **æ··æ·†çŸ©é˜µ (Confusion Matrix)**
- **åˆ†ç±»æŠ¥å‘Š** - åŒ…å«ç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1åˆ†æ•°

## ğŸ”¬ æ•°æ®å¢å¼ºæŠ€æœ¯

ä¸ºæé«˜æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼Œå®ç°äº†ä»¥ä¸‹ç‰©ç†åˆç†çš„æ•°æ®å¢å¼ºæ–¹æ³•ï¼š

1. **è½´æ‰°åŠ¨ (Axis Perturbation)**: æ¨¡æ‹Ÿä¼ æ„Ÿå™¨è½»å¾®é”™ä½
2. **å¹…åº¦ç¼©æ”¾ (Amplitude Scaling)**: æ¨¡æ‹Ÿä¸åŒåŠ›åº¦çš„å‡»çƒ
3. **é«˜æ–¯æŠ–åŠ¨ (Gaussian Jittering)**: æ·»åŠ ä¼ æ„Ÿå™¨å™ªå£°
4. **æ—¶é—´æ‰­æ›² (Time Warping)**: æ¨¡æ‹Ÿä¸åŒå‡»çƒé€Ÿåº¦
5. **ç‰¹å¾å¹³æ»‘ (Feature Smoothing)**: å‡å°‘ç‰¹å¾å™ªå£°

## ğŸ“ æ–‡ä»¶è¯´æ˜

- **assignment3.py / CPSC_5616EL_A3_G6.py**: å®Œæ•´çš„è®­ç»ƒæµç¨‹ï¼ŒåŒ…æ‹¬æ•°æ®åŠ è½½ã€å¢å¼ºã€æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°
- **assignment3_preprocess.py / data_preprogress.py**: æ•°æ®é¢„å¤„ç†å‡½æ•°åº“
- **assignment3.ipynb**: äº¤äº’å¼åˆ†æå’Œå¯è§†åŒ–ç¬”è®°æœ¬
- **A3_features*.csv**: æå–åçš„ç‰¹å¾æ•°æ®é›†

## ğŸ¤ è´¡çŒ®è€…

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ”— ç›¸å…³èµ„æº

- [Scikit-learn Documentation](https://scikit-learn.org/)
- [Pandas Documentation](https://pandas.pydata.org/)
- [SciPy Signal Processing](https://docs.scipy.org/doc/scipy/reference/signal.html)

## ğŸ’¡ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿è¾“å…¥æ•°æ®æ ¼å¼æ­£ç¡®ï¼ˆåŒ…å«æ—¶é—´æˆ³ã€åŠ é€Ÿåº¦è®¡å’Œé™€èºä»ªæ•°æ®ï¼‰
2. é¢„å¤„ç†å‚æ•°ï¼ˆå¦‚é‡‡æ ·é¢‘ç‡ã€æ»¤æ³¢å™¨å‚æ•°ï¼‰å¯èƒ½éœ€è¦æ ¹æ®å…·ä½“æ•°æ®è°ƒæ•´
3. æ•°æ®å¢å¼ºå€æ•°å»ºè®®ä¸º2-5å€ï¼Œè¿‡å¤šå¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆ
4. å»ºè®®ä½¿ç”¨GPUåŠ é€Ÿè®­ç»ƒå¤§è§„æ¨¡æ•°æ®é›†

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issue æˆ– Pull Request è”ç³»æˆ‘ä»¬ã€‚